---
name: Processed Task
description: Provides funny comments about every move in a chess game between Alice
  and Bob.
type:
  blueId: 6F9bjtAd85XgPGvzh7zcZp92tdR4mTcQcMUC8VuPYgZb
subscriptions:
  items:
  - type:
      blueId: BactZk5uMdvw7cVx4uPxmMaT8Qp9jiHKiDtYaiF8kpf7
    initiateContractEntry:
      blueId: Cko9ix6TXfxF8kESravWT46yVEe9sHBj76GJXayZsRSV
workflows:
  items:
  - name: Generate Funny Comment
    steps:
      items:
      - name: GenerateComment
        type:
          blueId: 81yruzcExdbod4xZ49qxZpnaWEnDEiGZ7xe5sh13AQ7g
        event:
          type:
            blueId: HWeoWDoYuMGdfzrCJoy58LeH9pFuPQXE9ioHvxVNBcPC
          message:
            type:
              blueId: 7vshb7SKU42xGbchkfGJbvT6cQSBpAKQJ14iwKZX6nir
            request:
              type:
                type:
                  blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
                value: LLM Request
              prompt:
                type:
                  blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
                value: "Generate a short, funny comment (max 160 characters) about\
                  \ this chess move. Be creative and humorous!"
              promptParams:
                playerMakingMove:
                  type:
                    blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
                  value: "${event.playerMakingMove}"
                from:
                  type:
                    blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
                  value: "${event.from}"
                to:
                  type:
                    blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
                  value: "${event.to}"
            response:
              type:
                type:
                  blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
                value: LLM Response
          timeline:
            blueId: "${contract('/messaging/participants/Assistant/timeline/blueId')}"
      - name: StoreComment
        type:
          blueId: 6PsXX3HF74kESc6eg58z8kNwzqD64xQ3PjGPUppzcWg6
        changeset:
          items:
          - val:
              type:
                blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
              value: "${steps.GenerateComment.content}"
            op:
              type:
                blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
              value: add
            path:
              type:
                blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
              value: /properties/comments/-
      - name: SendComment
        type:
          blueId: 3uFwcdCx8Sdw43hGbBL3t9YGRocLbAewHzzxbrKAkUKF
        event:
          type:
            type:
              blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
            value: Assistant Message
          message:
            type:
              blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
            value: "${steps.GenerateComment.content}"
    trigger:
      event:
        type:
          blueId: EgyqonRWYcQGoQH1fHKgbRRp5XRzp7CHEpgcY1Cq2CgJ
      contract:
        type:
          blueId: 83vpYdEkjbguc9Mbixz2qV2ZkzaCgV4gptSeyyU4QzaJ
        initiateContractEntry:
          blueId: Cko9ix6TXfxF8kESravWT46yVEe9sHBj76GJXayZsRSV
properties:
  comments:
    description: List of funny comments for each move
    type:
      blueId: G8wmfjEqugPEEXByMYWJXiEdbLToPRWNQEekNxrxfQWB
    itemType:
      blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
messaging:
  participants:
    Assistant:
      timeline:
        blueId: HN2QVkuyZEJ3hf4SPTiup62ZmsGvu9suJNTMbfyrLdJR
    User:
      timeline:
        blueId: 9oNWmXTSy1x9XDNvyHt6j9CkcqJiEsCD9PHV4G1qy66y
