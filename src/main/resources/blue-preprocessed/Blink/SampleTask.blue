---
name: Sample Task
type:
  blueId: 6F9bjtAd85XgPGvzh7zcZp92tdR4mTcQcMUC8VuPYgZb
properties:
  result:
    description: result
  fen:
    type:
      blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
workflows:
  items:
  - steps:
      items:
      - name: assistantStockfish
        type:
          blueId: 3uFwcdCx8Sdw43hGbBL3t9YGRocLbAewHzzxbrKAkUKF
        event:
          type:
            blueId: 5Q1m2vuLKyuSLGK2YAEgqw52kZNWBRx4SC5gHzgzcANf
          task:
            type:
              blueId: 7vshb7SKU42xGbchkfGJbvT6cQSBpAKQJ14iwKZX6nir
            request:
              type:
                blueId: 7ViSN3jxBZ9bgy764CyzduFgPxsYWCyArWYd2fibY8xC
              fen:
                type:
                  blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
                value: rn1q1rk1/pp2b1pp/2p2n2/3p1pB1/3P4/1QP2N2/PP1N1PPP/R4RK1 b -
                  - 1 11
              depth:
                type:
                  blueId: DHmxTkFbXePZHCHCYmQr2dSzcNLcryFVjXVHkdQrrZr8
                value: 10
            response:
              type:
                blueId: CBnTbyZvyrsGozRyUH4sUMHboJvP7a2fGGejyh2x1XWD
      - name: stockfish
        type:
          blueId: 81yruzcExdbod4xZ49qxZpnaWEnDEiGZ7xe5sh13AQ7g
        event:
          type:
            blueId: HWeoWDoYuMGdfzrCJoy58LeH9pFuPQXE9ioHvxVNBcPC
          message:
            type:
              blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
            value: "${steps.assistantStockfish.event.task}"
          timeline:
            blueId: "${contract('/properties/assistantTimeline')}"
      - name: assistantLlm
        type:
          blueId: 3uFwcdCx8Sdw43hGbBL3t9YGRocLbAewHzzxbrKAkUKF
        event:
          type:
            blueId: 5Q1m2vuLKyuSLGK2YAEgqw52kZNWBRx4SC5gHzgzcANf
          task:
            type:
              blueId: 7vshb7SKU42xGbchkfGJbvT6cQSBpAKQJ14iwKZX6nir
            request:
              type:
                blueId: GXkQ3iphMJRzWukJt8fAJNr7kSBpKfkVxH4j1VdBpcoo
              prompt:
                type:
                  blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
                value: |
                  Prepare a json like:
                  {
                    "note": "Put note here",
                    "move": {
                      "from": "e2",
                      "to": "e4"
                    }
                  }
                  you're recommending this move to someone playing chess
                  note should be max 160 chars and should sound like:
                  'Time to activate our queen now. This move also frees up the d8 square for your rook, improving piece coordination'
                  or
                  'Let's throw a haymaker now! Taking on c7 we're protecting the c-pawn. You have 61% chances of winning now.'
                  or
                  'It's over now! We'll force mate in 3 moves. Let's start by taking this rook.'
                  those are just examples, be creative, don't use it as a pattern - your comments should be interesting and enjoying
              promptParams:
                stockfishAnalysis:
                  type:
                    blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
                  value: "${steps.stockfish}"
            response:
              type:
                blueId: 9Rie4HdYiHTEJRLF77d4VHmaQv43QJvdJ9oUrQy89hMn
      - name: llm
        description: your task
        type:
          blueId: 81yruzcExdbod4xZ49qxZpnaWEnDEiGZ7xe5sh13AQ7g
        event:
          type:
            blueId: HWeoWDoYuMGdfzrCJoy58LeH9pFuPQXE9ioHvxVNBcPC
          message:
            type:
              blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
            value: "${steps.assistantLlm.event.task}"
          timeline:
            blueId: "${contract('/properties/assistantTimeline')}"
      - name: Apply Changes
        type:
          blueId: 6PsXX3HF74kESc6eg58z8kNwzqD64xQ3PjGPUppzcWg6
        changeset:
          items:
          - val:
              type:
                blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
              value: abc
            op:
              type:
                blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
              value: replace
            path:
              type:
                blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
              value: /properties/result
      - type:
          blueId: 3uFwcdCx8Sdw43hGbBL3t9YGRocLbAewHzzxbrKAkUKF
        event:
          type:
            blueId: AKUEwDRue5k66kqfT6CszvRbNFNj9hwABKcsHR1WfMHx
          priority:
            type:
              blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
            value: HIGH
          message:
            type:
              blueId: F92yo19rCcbBoBSpUA5LRxpfDejJDAaP1PRxxbWAraVP
            value: "${steps.llm}"
    trigger:
      event:
        type:
          blueId: 3uzSCGkrdX4hTFGuLbyZES7NQmiuFskCpUy572GxNQuC
